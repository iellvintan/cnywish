<!DOCTYPE html>
<html>

<head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
</head>

<body>

    <script>
        const x = innerWidth;
        const y = innerHeight;
        var config = {
            type: Phaser.AUTO,
            width: x,
            height: y,
            physics: {
                default: 'arcade',
                arcade: {
                    gravity: { y: 1022 }
                }
            },
            scene: {
                preload: preload,
                create: create,
                update: update
            }
        };

        var objects = {};
        var game = new Phaser.Game(config);

        function preload() {
            this.load.image('background', 'assets/images/cny-background.png');
            this.load.image('logo', 'assets/images/coin.png');
            this.load.image('red', 'http://labs.phaser.io/assets/particles/yellow.png');
        }

        function create() {
            objects.camera = this.cameras.add(0, 0, x, y);
            objects.camera.setBackgroundColor('rgba(255, 255, 255, 1)');

            let image = this.add.image(this.cameras.main.width / 2, this.cameras.main.height / 2, 'background');
            let scaleX = this.cameras.main.width / image.width;
            let scaleY = this.cameras.main.height / image.height;
            let scale = Math.max(scaleX, scaleY);
            image.setScale(scale).setScrollFactor(0);

            var particles = this.add.particles('red');

            var logo = this.physics.add.image(x * Math.random(), -100, 'logo');

            logo.setCollideWorldBounds(true);

            // timedEvent = this.time.addEvent({ delay: 500, callback: onEvent, callbackScope: this, loop: true });
        }

        function update() {
            var logo = this.physics.add.image(x * Math.random(), -100, 'logo');

            logo.setCollideWorldBounds(true);
        }

        // function onEvent() {
        //     var logo = this.physics.add.image(x * Math.random(), 0, 'logo');

        //     c++;

        //     if (c === 10) {
        //         timedEvent.remove(false);
        //     }
        // }

    </script>

</body>

</html>